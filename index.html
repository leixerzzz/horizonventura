<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Amigo Travel</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    /* ==============================
       GLOBAL RESET + BASE STYLES
    ============================== */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
    }

    body {
      background: linear-gradient(135deg, #fff3e0, #e0f7fa);
      min-height: 100vh;
      color: #333;
      overflow-x: hidden;
    }

    a {
      text-decoration: none;
      color: inherit;
    }

    button {
      cursor: pointer;
      border: none;
      outline: none;
      background: none;
      font-family: inherit;
    }

    img {
      max-width: 100%;
      display: block;
    }

    h1, h2, h3, h4, h5 {
      font-weight: 700;
    }

    /* ==============================
       COLORS
    ============================== */
    :root {
      --orange: #ff8c42;
      --orange-dark: #ff6f00;
      --teal: #00bcd4;
      --teal-dark: #0097a7;
      --yellow: #ffd54f;
      --pink: #ff80ab;
      --green: #66bb6a;
      --bg-card: #ffffff;
      --shadow-soft: 0 10px 25px rgba(0,0,0,0.08);
      --radius: 18px;
    }

    /* ==============================
       TOP NAVBAR
    ============================== */
    #navbar {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      height: 72px;
      background: rgba(255,255,255,0.9);
      backdrop-filter: blur(12px);
      box-shadow: 0 4px 15px rgba(0,0,0,0.06);
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 18px;
      z-index: 1000;
    }

    #nav-left {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    #logo-img {
      width: 42px;
      height: 42px;
      border-radius: 50%;
      background: #eee;
      object-fit: cover;
    }

    #brand-name {
      font-size: 1.3rem;
      font-weight: 800;
      color: var(--orange-dark);
    }

    #nav-center {
      display: flex;
      align-items: center;
      gap: 18px;
    }

    .nav-link {
      font-weight: 600;
      color: #444;
      padding: 6px 10px;
      border-radius: 10px;
      transition: 0.2s;
    }

    .nav-link:hover {
      background: rgba(255,140,66,0.15);
      color: var(--orange-dark);
    }

    #nav-right {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    /* ==============================
       LANGUAGE SWITCHER
    ============================== */
    #language-switcher {
      display: flex;
      align-items: center;
      gap: 6px;
      background: #fff;
      padding: 4px 8px;
      border-radius: 999px;
      box-shadow: var(--shadow-soft);
    }

    .lang-btn {
      font-size: 1.2rem;
      opacity: 0.6;
      transition: 0.2s;
    }

    .lang-btn.active {
      opacity: 1;
      transform: scale(1.15);
    }

    .lang-btn:hover {
      opacity: 1;
    }

    /* ==============================
       CART BUTTON
    ============================== */
    #cart-btn {
      position: relative;
      background: linear-gradient(135deg, var(--orange), var(--yellow));
      color: #fff;
      padding: 8px 14px;
      border-radius: 999px;
      font-weight: 700;
      box-shadow: var(--shadow-soft);
    }

    #cart-count {
      position: absolute;
      top: -6px;
      right: -6px;
      background: #ff1744;
      color: #fff;
      font-size: 0.7rem;
      padding: 2px 6px;
      border-radius: 999px;
      font-weight: 700;
    }

    /* ==============================
       MAIN CONTENT WRAPPER
    ============================== */
    #app {
      padding-top: 90px;
      padding-bottom: 120px;
      max-width: 1300px;
      margin: 0 auto;
      padding-left: 18px;
      padding-right: 18px;
    }

    /* ==============================
       HERO SECTION
    ============================== */
    #hero {
      background: linear-gradient(135deg, #ffb74d, #4dd0e1);
      border-radius: 28px;
      padding: 40px 28px;
      color: #fff;
      box-shadow: var(--shadow-soft);
      margin-bottom: 30px;
      position: relative;
      overflow: hidden;
    }

    #hero::after {
      content: "";
      position: absolute;
      right: -80px;
      bottom: -80px;
      width: 260px;
      height: 260px;
      background: rgba(255,255,255,0.25);
      border-radius: 50%;
    }

    #hero h1 {
      font-size: clamp(1.8rem, 4vw, 2.8rem);
      margin-bottom: 12px;
    }

    #hero p {
      font-size: 1.1rem;
      max-width: 520px;
      line-height: 1.4;
    }

    /* ==============================
       SECTION TITLES
    ============================== */
    .section-title {
      font-size: 1.8rem;
      margin: 24px 0 14px;
      color: #333;
    }

    /* ==============================
       GRID LAYOUTS
    ============================== */
    .grid {
      display: grid;
      gap: 18px;
    }

    .grid.countries {
      grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
    }

    .grid.cities {
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    }

    .grid.tours {
      grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
    }

    /* ==============================
       CARD STYLES
    ============================== */
    .card {
      background: var(--bg-card);
      border-radius: var(--radius);
      box-shadow: var(--shadow-soft);
      padding: 16px;
      transition: 0.25s;
      position: relative;
      overflow: hidden;
    }

    .card:hover {
      transform: translateY(-4px) scale(1.01);
      box-shadow: 0 14px 32px rgba(0,0,0,0.12);
    }

    /* ==============================
       COUNTRY CARD
    ============================== */
    .country-card {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 10px;
      text-align: center;
      cursor: pointer;
    }

    .country-flag {
      font-size: 2.4rem;
    }

    .country-name {
      font-weight: 700;
    }

    .coming-soon {
      font-size: 0.75rem;
      color: #888;
      margin-top: 4px;
    }

    /* ==============================
       CITY CARD
    ============================== */
    .city-card {
      cursor: pointer;
    }

    .city-card h3 {
      margin-bottom: 6px;
    }

    /* ==============================
       TOUR CARD
    ============================== */
    .tour-card {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .tour-title {
      font-size: 1.1rem;
      font-weight: 700;
    }

    .tour-desc {
      font-size: 0.9rem;
      color: #666;
      line-height: 1.4;
    }

    .tour-price {
      font-weight: 800;
      color: var(--orange-dark);
      font-size: 1.1rem;
    }

    .tour-actions {
      margin-top: auto;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .btn-primary {
      background: linear-gradient(135deg, var(--orange), var(--yellow));
      color: #fff;
      font-weight: 700;
      padding: 10px 14px;
      border-radius: 12px;
      transition: 0.2s;
      box-shadow: var(--shadow-soft);
    }

    .btn-primary:hover {
      transform: scale(1.03);
      background: linear-gradient(135deg, var(--orange-dark), var(--orange));
    }

    .btn-secondary {
      background: #f1f1f1;
      color: #333;
      font-weight: 600;
      padding: 8px 12px;
      border-radius: 10px;
      transition: 0.2s;
    }

    .btn-secondary:hover {
      background: #e5e5e5;
    }

    /* ==============================
       CALENDAR BOOKING
    ============================== */
    .calendar-box {
      background: #fff7e6;
      border-radius: 14px;
      padding: 10px;
      display: flex;
      flex-direction: column;
      gap: 6px;
    }

    .calendar-box label {
      font-size: 0.75rem;
      font-weight: 700;
      color: #555;
    }

    .calendar-box input {
      padding: 6px 8px;
      border-radius: 8px;
      border: 1px solid #ddd;
      font-size: 0.85rem;
    }

    /* ==============================
       BREADCRUMBS
    ============================== */
    #breadcrumbs {
      margin-bottom: 14px;
      font-size: 0.85rem;
      color: #666;
      display: flex;
      gap: 6px;
      align-items: center;
      flex-wrap: wrap;
    }

    .breadcrumb-link {
      color: var(--orange-dark);
      font-weight: 600;
      cursor: pointer;
    }

    .breadcrumb-sep {
      opacity: 0.6;
    }

    /* ==============================
       CART DRAWER
    ============================== */
    #cart-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.45);
      z-index: 2000;
      display: none;
      align-items: center;
      justify-content: flex-end;
    }

    #cart-drawer {
      width: 340px;
      max-width: 92vw;
      height: 100%;
      background: #fff;
      box-shadow: -10px 0 30px rgba(0,0,0,0.2);
      padding: 16px;
      display: flex;
      flex-direction: column;
    }

    #cart-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 10px;
    }

    #cart-header h3 {
      font-size: 1.2rem;
    }

    #cart-items {
      flex: 1;
      overflow-y: auto;
      display: flex;
      flex-direction: column;
      gap: 10px;
      margin-bottom: 10px;
    }

    .cart-item {
      background: #f9f9f9;
      border-radius: 12px;
      padding: 10px;
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      gap: 10px;
    }

    .cart-item-title {
      font-weight: 700;
      font-size: 0.9rem;
    }

    .cart-item-meta {
      font-size: 0.75rem;
      color: #666;
      margin-top: 2px;
    }

    .cart-item-price {
      font-weight: 800;
      color: var(--orange-dark);
      font-size: 0.9rem;
    }

    .cart-remove-btn {
      background: #ffebee;
      color: #c62828;
      font-size: 0.7rem;
      padding: 4px 6px;
      border-radius: 6px;
      font-weight: 700;
    }

    #cart-footer {
      border-top: 1px solid #eee;
      padding-top: 10px;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    #cart-total {
      display: flex;
      justify-content: space-between;
      font-weight: 800;
      font-size: 1rem;
    }

    /* ==============================
       CHECKOUT MODAL
    ============================== */
    #checkout-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.55);
      z-index: 3000;
      display: none;
      align-items: center;
      justify-content: center;
      padding: 16px;
    }

    #checkout-modal {
      background: #fff;
      border-radius: 24px;
      padding: 20px;
      width: 100%;
      max-width: 520px;
      box-shadow: 0 20px 60px rgba(0,0,0,0.3);
      max-height: 92vh;
      overflow-y: auto;
    }

    #checkout-modal h2 {
      font-size: 1.5rem;
      margin-bottom: 10px;
      color: var(--orange-dark);
    }

    .checkout-field {
      margin-bottom: 10px;
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .checkout-field label {
      font-size: 0.75rem;
      font-weight: 700;
      color: #555;
    }

    .checkout-field input {
      padding: 8px 10px;
      border-radius: 10px;
      border: 1px solid #ddd;
      font-size: 0.9rem;
    }

    .checkout-summary {
      background: #fff7e6;
      border-radius: 14px;
      padding: 10px;
      margin: 10px 0;
    }

    .checkout-summary-item {
      display: flex;
      justify-content: space-between;
      font-size: 0.85rem;
      margin-bottom: 4px;
    }

    .checkout-summary-total {
      display: flex;
      justify-content: space-between;
      font-weight: 800;
      margin-top: 6px;
    }

    .checkout-terms {
      font-size: 0.7rem;
      color: #666;
      line-height: 1.4;
      margin-top: 6px;
    }

    .checkout-terms span {
      color: var(--orange-dark);
      font-weight: 700;
      cursor: pointer;
    }

    /* ==============================
       SUCCESS MODAL
    ============================== */
    #success-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.6);
      z-index: 4000;
      display: none;
      align-items: center;
      justify-content: center;
      padding: 16px;
    }

    #success-modal {
      background: #fff;
      border-radius: 24px;
      padding: 24px;
      width: 100%;
      max-width: 420px;
      text-align: center;
      box-shadow: 0 20px 60px rgba(0,0,0,0.35);
    }

    #success-modal h2 {
      color: var(--green);
      margin-bottom: 8px;
    }

    /* ==============================
       TERMS / PRIVACY MODAL
    ============================== */
    #legal-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.6);
      z-index: 5000;
      display: none;
      align-items: center;
      justify-content: center;
      padding: 16px;
    }

    #legal-modal {
      background: #fff;
      border-radius: 20px;
      padding: 20px;
      width: 100%;
      max-width: 680px;
      max-height: 90vh;
      overflow-y: auto;
      box-shadow: 0 20px 60px rgba(0,0,0,0.35);
    }

    #legal-modal h2 {
      margin-bottom: 10px;
      color: var(--orange-dark);
    }

    #legal-modal p {
      font-size: 0.85rem;
      line-height: 1.6;
      color: #555;
      margin-bottom: 10px;
    }

    /* ==============================
       WELCOME GIFT OVERLAY
    ============================== */
    #gift-overlay {
      position: fixed;
      inset: 0;
      background: linear-gradient(135deg, rgba(255,183,77,0.95), rgba(77,208,225,0.95));
      z-index: 6000;
      display: none;
      align-items: center;
      justify-content: center;
      padding: 16px;
    }

    #gift-modal {
      background: #fff;
      border-radius: 28px;
      padding: 24px;
      width: 100%;
      max-width: 620px;
      box-shadow: 0 20px 60px rgba(0,0,0,0.35);
      text-align: center;
      animation: popIn 0.6s ease;
    }

    @keyframes popIn {
      0% { transform: scale(0.7); opacity: 0; }
      100% { transform: scale(1); opacity: 1; }
    }

    #gift-modal h2 {
      font-size: 2rem;
      margin-bottom: 6px;
      color: var(--orange-dark);
    }

    #gift-modal p {
      font-size: 1rem;
      margin-bottom: 16px;
      color: #555;
    }

    #gift-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
      gap: 14px;
      margin-bottom: 16px;
    }

    .gift-card {
      background: #fff7e6;
      border-radius: 16px;
      padding: 10px;
      cursor: pointer;
      transition: 0.2s;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 6px;
      box-shadow: var(--shadow-soft);
    }

    .gift-card:hover {
      transform: scale(1.05);
      background: #ffe0b2;
    }

    .gift-img {
      width: 64px;
      height: 64px;
      border-radius: 12px;
      background: #ffd54f;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2rem;
    }

    .gift-title {
      font-size: 0.8rem;
      font-weight: 700;
      color: #333;
    }

    .gift-close-btn {
      margin-top: 6px;
      font-size: 0.8rem;
      color: #666;
      text-decoration: underline;
      cursor: pointer;
    }

    /* ==============================
       AMIGO ASSISTANT
    ============================== */
    #amigo-container {
      position: fixed;
      top: 92px;
      right: 16px;
      z-index: 7000;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 6px;
      pointer-events: none;
    }

    #amigo-avatar-btn {
      pointer-events: auto;
      width: 72px;
      height: 72px;
      border-radius: 50%;
      background: linear-gradient(135deg, #ffb74d, #4dd0e1);
      box-shadow: 0 12px 30px rgba(0,0,0,0.25);
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      overflow: hidden;
      cursor: pointer;
      transition: 0.25s;
    }

    #amigo-avatar-btn:hover {
      transform: scale(1.08) rotate(-2deg);
    }

    /* Mascot body */
    #amigo-body {
      position: relative;
      width: 52px;
      height: 52px;
      background: #ffeb3b;
      border-radius: 50%;
      box-shadow: inset -4px -6px rgba(0,0,0,0.1);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.4rem;
    }

    /* Hat */
    #amigo-hat {
      position: absolute;
      top: -8px;
      width: 44px;
      height: 14px;
      background: #795548;
      border-radius: 10px;
    }

    #amigo-hat::after {
      content: "";
      position: absolute;
      top: -6px;
      left: 10px;
      width: 24px;
      height: 12px;
      background: #8d6e63;
      border-radius: 8px;
    }

    /* Sunglasses */
    #amigo-glasses {
      position: absolute;
      top: 16px;
      width: 38px;
      height: 10px;
      display: flex;
      justify-content: space-between;
    }

    .amigo-glass {
      width: 16px;
      height: 10px;
      background: #333;
      border-radius: 4px;
    }

    .amigo-glass-bridge {
      width: 6px;
      height: 3px;
      background: #333;
      margin-top: 4px;
    }

    /* Mouth */
    #amigo-mouth {
      position: absolute;
      bottom: 12px;
      width: 16px;
      height: 8px;
      border-bottom: 3px solid #333;
      border-radius: 0 0 16px 16px;
    }

    /* Backpack */
    #amigo-backpack {
      position: absolute;
      right: -10px;
      top: 16px;
      width: 12px;
      height: 18px;
      background: #ff7043;
      border-radius: 6px;
      box-shadow: inset -2px -2px rgba(0,0,0,0.15);
    }

    /* Shoes */
    .amigo-shoe {
      position: absolute;
      bottom: -6px;
      width: 10px;
      height: 6px;
      background: #333;
      border-radius: 4px;
    }

    #amigo-shoe-left {
      left: 14px;
    }

    #amigo-shoe-right {
      right: 14px;
    }

    /* Drink */
    #amigo-drink {
      position: absolute;
      left: -10px;
      top: 22px;
      width: 10px;
      height: 14px;
      background: #4dd0e1;
      border-radius: 4px;
      box-shadow: inset -2px -2px rgba(0,0,0,0.15);
      display: none;
    }

    #amigo-drink::after {
      content: "";
      position: absolute;
      top: -4px;
      left: 4px;
      width: 2px;
      height: 6px;
      background: #333;
      transform: rotate(-20deg);
    }

    /* Parachute */
    #amigo-parachute {
      position: absolute;
      top: -26px;
      width: 60px;
      height: 30px;
      background: radial-gradient(circle at center, #ff5252, #ff1744);
      border-radius: 0 0 60px 60px;
      display: none;
    }

    /* Snorkel mask */
    #amigo-snorkel {
      position: absolute;
      top: 10px;
      width: 42px;
      height: 20px;
      border-radius: 12px;
      border: 3px solid #1976d2;
      background: rgba(25,118,210,0.25);
      display: none;
    }

    #amigo-snorkel::after {
      content: "";
      position: absolute;
      right: -8px;
      top: -6px;
      width: 6px;
      height: 20px;
      border-radius: 4px;
      background: #1976d2;
    }

    /* Car */
    #amigo-car {
      position: absolute;
      bottom: -12px;
      width: 60px;
      height: 22px;
      background: #ff7043;
      border-radius: 10px;
      display: none;
    }

    #amigo-car::before,
    #amigo-car::after {
      content: "";
      position: absolute;
      bottom: -6px;
      width: 12px;
      height: 12px;
      background: #333;
      border-radius: 50%;
    }

    #amigo-car::before {
      left: 8px;
    }

    #amigo-car::after {
      right: 8px;
    }

    /* Spa towel */
    #amigo-towel {
      position: absolute;
      top: 22px;
      width: 36px;
      height: 20px;
      background: #fff;
      border-radius: 10px;
      display: none;
    }

    /* Tattoo machine */
    #amigo-tattoo {
      position: absolute;
      left: -14px;
      top: 22px;
      width: 12px;
      height: 18px;
      background: #444;
      border-radius: 4px;
      display: none;
    }

    /* Amigo speech bubble */
    #amigo-bubble {
      pointer-events: auto;
      background: #fff;
      border-radius: 14px;
      padding: 10px 12px;
      box-shadow: var(--shadow-soft);
      max-width: 240px;
      font-size: 0.85rem;
      line-height: 1.4;
      display: none;
      animation: fadeSlideIn 0.3s ease;
    }

    @keyframes fadeSlideIn {
      0% { opacity: 0; transform: translateY(-6px); }
      100% { opacity: 1; transform: translateY(0); }
    }

    #amigo-bubble h4 {
      font-size: 0.9rem;
      margin-bottom: 6px;
      color: var(--orange-dark);
    }

    .amigo-menu-btn {
      display: block;
      width: 100%;
      text-align: left;
      background: #f5f5f5;
      padding: 6px 8px;
      border-radius: 8px;
      margin-bottom: 6px;
      font-size: 0.8rem;
      font-weight: 600;
      transition: 0.15s;
    }

    .amigo-menu-btn:hover {
      background: #ffe0b2;
    }

    /* ==============================
       FOOTER
    ============================== */
    footer {
      margin-top: 40px;
      padding: 20px 0;
      text-align: center;
      font-size: 0.75rem;
      color: #666;
    }

    /* ==============================
       RESPONSIVE
    ============================== */
    @media (max-width: 600px) {
      #hero {
        padding: 28px 20px;
      }

      #hero h1 {
        font-size: 1.9rem;
      }

      #hero p {
        font-size: 1rem;
      }

      #amigo-avatar-btn {
        width: 64px;
        height: 64px;
      }

      #amigo-body {
        width: 46px;
        height: 46px;
      }
    }
  </style>
</head>

<body>

  <!-- ==============================
       NAVBAR
  ============================== -->
  <div id="navbar">
    <div id="nav-left">
      <img id="logo-img" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iNTAiIGN5PSI1MCIgcj0iNTAiIGZpbGw9IiNmZmM2NmYiLz48dGV4dCB4PSI1MCIgeT0iNTgiIGZvbnQtc2l6ZT0iNDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiNmZmYiIGZvbnQtZmFtaWx5PSJBcmlhbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmIj5BPC90ZXh0Pjwvc3ZnPg==" alt="Logo" />
      <span id="brand-name">Amigo</span>
    </div>

    <div id="nav-center">
      <button class="nav-link" id="nav-home-btn">Home</button>
      <button class="nav-link" id="nav-destinations-btn">Destinations</button>
      <button class="nav-link" id="nav-services-btn">Services</button>
    </div>

    <div id="nav-right">
      <div id="language-switcher">
        <button class="lang-btn" data-lang="en">ğŸ‡ºğŸ‡¸</button>
        <button class="lang-btn" data-lang="es">ğŸ‡ªğŸ‡¸</button>
        <button class="lang-btn" data-lang="fr">ğŸ‡«ğŸ‡·</button>
        <button class="lang-btn" data-lang="pt">ğŸ‡§ğŸ‡·</button>
        <button class="lang-btn" data-lang="it">ğŸ‡®ğŸ‡¹</button>
      </div>

      <button id="cart-btn">
        ğŸ›’
        <span id="cart-count" style="display:none;">0</span>
      </button>
    </div>
  </div>

  <!-- ==============================
       MAIN APP
  ============================== -->
  <div id="app">

    <!-- HERO -->
    <div id="hero">
      <h1 id="hero-title">Your adventure starts here ğŸŒ´âœˆï¸</h1>
      <p id="hero-subtitle">
        Book tours, travel, tattoos, salons and experiences worldwide with Amigo â€” your friendly travel buddy.
      </p>
    </div>

    <!-- BREADCRUMBS -->
    <div id="breadcrumbs" style="display:none;"></div>

    <!-- CONTENT AREA -->
    <div id="content"></div>

  </div>

  <!-- ==============================
       FOOTER
  ============================== -->
  <footer>
    Â© <span id="year"></span> Amigo Travel â€” All rights reserved.
  </footer>

  <!-- ==============================
       CART DRAWER
  ============================== -->
  <div id="cart-overlay">
    <div id="cart-drawer">
      <div id="cart-header">
        <h3 id="cart-title">Your Cart</h3>
        <button id="cart-close-btn">âœ–</button>
      </div>

      <div id="cart-items"></div>

      <div id="cart-footer">
        <div id="cart-total">
          <span id="cart-total-label">Total</span>
          <span id="cart-total-value">$0</span>
        </div>
        <button id="checkout-btn" class="btn-primary">Checkout</button>
      </div>
    </div>
  </div>

  <!-- ==============================
       CHECKOUT MODAL
  ============================== -->
  <div id="checkout-overlay">
    <div id="checkout-modal">
      <h2 id="checkout-title">Checkout</h2>

      <div class="checkout-field">
        <label id="checkout-name-label">Full Name</label>
        <input type="text" id="checkout-name" placeholder="John Doe" />
      </div>

      <div class="checkout-field">
        <label id="checkout-email-label">Email</label>
        <input type="email" id="checkout-email" placeholder="john@email.com" />
      </div>

      <div class="checkout-field">
        <label id="checkout-phone-label">Phone</label>
        <input type="tel" id="checkout-phone" placeholder="+1 555 555 5555" />
      </div>

      <div class="checkout-field">
        <label id="checkout-card-label">Card Number</label>
        <input type="text" id="checkout-card" placeholder="4242 4242 4242 4242" />
      </div>

      <div class="checkout-field" style="display:flex; gap:10px;">
        <div style="flex:1;">
          <label id="checkout-exp-label">Exp</label>
          <input type="text" id="checkout-exp" placeholder="12/28" />
        </div>
        <div style="flex:1;">
          <label id="checkout-cvc-label">CVC</label>
          <input type="text" id="checkout-cvc" placeholder="123" />
        </div>
      </div>

      <div class="checkout-summary" id="checkout-summary"></div>

      <button id="checkout-pay-btn" class="btn-primary" style="width:100%; margin-top:10px;">
        Pay Now
      </button>

      <div class="checkout-terms" id="checkout-terms-text">
        By paying you agree to our <span id="terms-link">Terms</span> and <span id="privacy-link">Privacy Policy</span>.
      </div>

      <button id="checkout-cancel-btn" class="btn-secondary" style="width:100%; margin-top:10px;">
        Cancel
      </button>
    </div>
  </div>

  <!-- ==============================
       SUCCESS MODAL
  ============================== -->
  <div id="success-overlay">
    <div id="success-modal">
      <h2 id="success-title">ğŸ‰ Booking Confirmed!</h2>
      <p id="success-message">
        Your adventure is locked in. Weâ€™ve sent confirmation to your email.
      </p>
      <button id="success-close-btn" class="btn-primary" style="margin-top:10px;">
        Back to Home
      </button>
    </div>
  </div>

  <!-- ==============================
       TERMS / PRIVACY MODAL
  ============================== -->
  <div id="legal-overlay">
    <div id="legal-modal">
      <h2 id="legal-title">Terms & Conditions</h2>
      <div id="legal-content"></div>
      <button id="legal-close-btn" class="btn-primary" style="margin-top:10px;">
        Close
      </button>
    </div>
  </div>

  <!-- ==============================
       WELCOME GIFT MODAL
  ============================== -->
  <div id="gift-overlay">
    <div id="gift-modal">
      <h2 id="gift-title">ğŸ Welcome Gift!</h2>
      <p id="gift-subtitle">Choose one free gift for your first adventure.</p>

      <div id="gift-grid"></div>

      <button id="gift-close-btn" class="gift-close-btn">Skip for now</button>
    </div>
  </div>

  <!-- ==============================
       AMIGO ASSISTANT
  ============================== -->
  <div id="amigo-container">
    <div id="amigo-bubble"></div>

    <div id="amigo-avatar-btn" title="Ask Amigo">
      <div id="amigo-parachute"></div>
      <div id="amigo-car"></div>
      <div id="amigo-snorkel"></div>
      <div id="amigo-towel"></div>
      <div id="amigo-tattoo"></div>

      <div id="amigo-body">
        <div id="amigo-hat"></div>
        <div id="amigo-glasses">
          <div class="amigo-glass"></div>
          <div class="amigo-glass-bridge"></div>
          <div class="amigo-glass"></div>
        </div>
        <div id="amigo-mouth"></div>
        <div id="amigo-backpack"></div>
        <div id="amigo-drink"></div>
        <div id="amigo-shoe-left" class="amigo-shoe"></div>
        <div id="amigo-shoe-right" class="amigo-shoe"></div>
      </div>
    </div>
  </div>

  <!-- ==============================
       SCRIPT
  ============================== -->
  <script>
    /********************************************************************
     ********************************************************************
     ****************************  DATA  ********************************
     ********************************************************************
     ********************************************************************/

    const ALL_COUNTRIES = [
      { code: "AF", name: "Afghanistan", flag: "ğŸ‡¦ğŸ‡«" },
      { code: "AL", name: "Albania", flag: "ğŸ‡¦ğŸ‡±" },
      { code: "DZ", name: "Algeria", flag: "ğŸ‡©ğŸ‡¿" },
      { code: "AD", name: "Andorra", flag: "ğŸ‡¦ğŸ‡©" },
      { code: "AO", name: "Angola", flag: "ğŸ‡¦ğŸ‡´" },
      { code: "AG", name: "Antigua and Barbuda", flag: "ğŸ‡¦ğŸ‡¬" },
      { code: "AR", name: "Argentina", flag: "ğŸ‡¦ğŸ‡·" },
      { code: "AM", name: "Armenia", flag: "ğŸ‡¦ğŸ‡²" },
      { code: "AU", name: "Australia", flag: "ğŸ‡¦ğŸ‡º" },
      { code: "AT", name: "Austria", flag: "ğŸ‡¦ğŸ‡¹" },
      { code: "AZ", name: "Azerbaijan", flag: "ğŸ‡¦ğŸ‡¿" },
      { code: "BS", name: "Bahamas", flag: "ğŸ‡§ğŸ‡¸" },
      { code: "BH", name: "Bahrain", flag: "ğŸ‡§ğŸ‡­" },
      { code: "BD", name: "Bangladesh", flag: "ğŸ‡§ğŸ‡©" },
      { code: "BB", name: "Barbados", flag: "ğŸ‡§ğŸ‡§" },
      { code: "BY", name: "Belarus", flag: "ğŸ‡§ğŸ‡¾" },
      { code: "BE", name: "Belgium", flag: "ğŸ‡§ğŸ‡ª" },
      { code: "BZ", name: "Belize", flag: "ğŸ‡§ğŸ‡¿" },
      { code: "BJ", name: "Benin", flag: "ğŸ‡§ğŸ‡¯" },
      { code: "BT", name: "Bhutan", flag: "ğŸ‡§ğŸ‡¹" },
      { code: "BO", name: "Bolivia", flag: "ğŸ‡§ğŸ‡´" },
      { code: "BA", name: "Bosnia and Herzegovina", flag: "ğŸ‡§ğŸ‡¦" },
      { code: "BW", name: "Botswana", flag: "ğŸ‡§ğŸ‡¼" },
      { code: "BR", name: "Brazil", flag: "ğŸ‡§ğŸ‡·" },
      { code: "BN", name: "Brunei", flag: "ğŸ‡§ğŸ‡³" },
      { code: "BG", name: "Bulgaria", flag: "ğŸ‡§ğŸ‡¬" },
      { code: "BF", name: "Burkina Faso", flag: "ğŸ‡§ğŸ‡«" },
      { code: "BI", name: "Burundi", flag: "ğŸ‡§ğŸ‡®" },
      { code: "KH", name: "Cambodia", flag: "ğŸ‡°ğŸ‡­" },
      { code: "CM", name: "Cameroon", flag: "ğŸ‡¨ğŸ‡²" },
      { code: "CA", name: "Canada", flag: "ğŸ‡¨ğŸ‡¦" },
      { code: "CV", name: "Cape Verde", flag: "ğŸ‡¨ğŸ‡»" },
      { code: "CF", name: "Central African Republic", flag: "ğŸ‡¨ğŸ‡«" },
      { code: "TD", name: "Chad", flag: "ğŸ‡¹ğŸ‡©" },
      { code: "CL", name: "Chile", flag: "ğŸ‡¨ğŸ‡±" },
      { code: "CN", name: "China", flag: "ğŸ‡¨ğŸ‡³" },
      { code: "CO", name: "Colombia", flag: "ğŸ‡¨ğŸ‡´" },
      { code: "KM", name: "Comoros", flag: "ğŸ‡°ğŸ‡²" },
      { code: "CG", name: "Congo", flag: "ğŸ‡¨ğŸ‡¬" },
      { code: "CR", name: "Costa Rica", flag: "ğŸ‡¨ğŸ‡·" },
      { code: "CI", name: "CÃ´te dâ€™Ivoire", flag: "ğŸ‡¨ğŸ‡®" },
      { code: "HR", name: "Croatia", flag: "ğŸ‡­ğŸ‡·" },
      { code: "CU", name: "Cuba", flag: "ğŸ‡¨ğŸ‡º" },
      { code: "CY", name: "Cyprus", flag: "ğŸ‡¨ğŸ‡¾" },
      { code: "CZ", name: "Czech Republic", flag: "ğŸ‡¨ğŸ‡¿" },
      { code: "DK", name: "Denmark", flag: "ğŸ‡©ğŸ‡°" },
      { code: "DJ", name: "Djibouti", flag: "ğŸ‡©ğŸ‡¯" },
      { code: "DM", name: "Dominica", flag: "ğŸ‡©ğŸ‡²" },
      { code: "DO", name: "Dominican Republic", flag: "ğŸ‡©ğŸ‡´" },
      { code: "EC", name: "Ecuador", flag: "ğŸ‡ªğŸ‡¨" },
      { code: "EG", name: "Egypt", flag: "ğŸ‡ªğŸ‡¬" },
      { code: "SV", name: "El Salvador", flag: "ğŸ‡¸ğŸ‡»" },
      { code: "GQ", name: "Equatorial Guinea", flag: "ğŸ‡¬ğŸ‡¶" },
      { code: "ER", name: "Eritrea", flag: "ğŸ‡ªğŸ‡·" },
      { code: "EE", name: "Estonia", flag: "ğŸ‡ªğŸ‡ª" },
      { code: "SZ", name: "Eswatini", flag: "ğŸ‡¸ğŸ‡¿" },
      { code: "ET", name: "Ethiopia", flag: "ğŸ‡ªğŸ‡¹" },
      { code: "FJ", name: "Fiji", flag: "ğŸ‡«ğŸ‡¯" },
      { code: "FI", name: "Finland", flag: "ğŸ‡«ğŸ‡®" },
      { code: "FR", name: "France", flag: "ğŸ‡«ğŸ‡·" },
      { code: "GA", name: "Gabon", flag: "ğŸ‡¬ğŸ‡¦" },
      { code: "GM", name: "Gambia", flag: "ğŸ‡¬ğŸ‡²" },
      { code: "GE", name: "Georgia", flag: "ğŸ‡¬ğŸ‡ª" },
      { code: "DE", name: "Germany", flag: "ğŸ‡©ğŸ‡ª" },
      { code: "GH", name: "Ghana", flag: "ğŸ‡¬ğŸ‡­" },
      { code: "GR", name: "Greece", flag: "ğŸ‡¬ğŸ‡·" },
      { code: "GD", name: "Grenada", flag: "ğŸ‡¬ğŸ‡©" },
      { code: "GT", name: "Guatemala", flag: "ğŸ‡¬ğŸ‡¹" },
      { code: "GN", name: "Guinea", flag: "ğŸ‡¬ğŸ‡³" },
      { code: "GW", name: "Guinea-Bissau", flag: "ğŸ‡¬ğŸ‡¼" },
      { code: "GY", name: "Guyana", flag: "ğŸ‡¬ğŸ‡¾" },
      { code: "HT", name: "Haiti", flag: "ğŸ‡­ğŸ‡¹" },
      { code: "HN", name: "Honduras", flag: "ğŸ‡­ğŸ‡³" },
      { code: "HU", name: "Hungary", flag: "ğŸ‡­ğŸ‡º" },
      { code: "IS", name: "Iceland", flag: "ğŸ‡®ğŸ‡¸" },
      { code: "IN", name: "India", flag: "ğŸ‡®ğŸ‡³" },
      { code: "ID", name: "Indonesia", flag: "ğŸ‡®ğŸ‡©" },
      { code: "IR", name: "Iran", flag: "ğŸ‡®ğŸ‡·" },
      { code: "IQ", name: "Iraq", flag: "ğŸ‡®ğŸ‡¶" },
      { code: "IE", name: "Ireland", flag: "ğŸ‡®ğŸ‡ª" },
      { code: "IL", name: "Israel", flag: "ğŸ‡®ğŸ‡±" },
      { code: "IT", name: "Italy", flag: "ğŸ‡®ğŸ‡¹" },
      { code: "JM", name: "Jamaica", flag: "ğŸ‡¯ğŸ‡²" },
      { code: "JP", name: "Japan", flag: "ğŸ‡¯ğŸ‡µ" },
      { code: "JO", name: "Jordan", flag: "ğŸ‡¯ğŸ‡´" },
      { code: "KZ", name: "Kazakhstan", flag: "ğŸ‡°ğŸ‡¿" },
      { code: "KE", name: "Kenya", flag: "ğŸ‡°ğŸ‡ª" },
      { code: "KI", name: "Kiribati", flag: "ğŸ‡°ğŸ‡®" },
      { code: "KW", name: "Kuwait", flag: "ğŸ‡°ğŸ‡¼" },
      { code: "KG", name: "Kyrgyzstan", flag: "ğŸ‡°ğŸ‡¬" },
      { code: "LA", name: "Laos", flag: "ğŸ‡±ğŸ‡¦" },
      { code: "LV", name: "Latvia", flag: "ğŸ‡±ğŸ‡»" },
      { code: "LB", name: "Lebanon", flag: "ğŸ‡±ğŸ‡§" },
      { code: "LS", name: "Lesotho", flag: "ğŸ‡±ğŸ‡¸" },
      { code: "LR", name: "Liberia", flag: "ğŸ‡±ğŸ‡·" },
      { code: "LY", name: "Libya", flag: "ğŸ‡±ğŸ‡¾" },
      { code: "LI", name: "Liechtenstein", flag: "ğŸ‡±ğŸ‡®" },
      { code: "LT", name: "Lithuania", flag: "ğŸ‡±ğŸ‡¹" },
      { code: "LU", name: "Luxembourg", flag: "ğŸ‡±ğŸ‡º" },
      { code: "MG", name: "Madagascar", flag: "ğŸ‡²ğŸ‡¬" },
      { code: "MW", name: "Malawi", flag: "ğŸ‡²ğŸ‡¼" },
      { code: "MY", name: "Malaysia", flag: "ğŸ‡²ğŸ‡¾" },
      { code: "MV", name: "Maldives", flag: "ğŸ‡²ğŸ‡»" },
      { code: "ML", name: "Mali", flag: "ğŸ‡²ğŸ‡±" },
      { code: "MT", name: "Malta", flag: "ğŸ‡²ğŸ‡¹" },
      { code: "MH", name: "Marshall Islands", flag: "ğŸ‡²ğŸ‡­" },
      { code: "MR", name: "Mauritania", flag: "ğŸ‡²ğŸ‡·" },
      { code: "MU", name: "Mauritius", flag: "ğŸ‡²ğŸ‡º" },
      { code: "MX", name: "Mexico", flag: "ğŸ‡²ğŸ‡½" },
      { code: "FM", name: "Micronesia", flag: "ğŸ‡«ğŸ‡²" },
      { code: "MD", name: "Moldova", flag: "ğŸ‡²ğŸ‡©" },
      { code: "MC", name: "Monaco", flag: "ğŸ‡²ğŸ‡¨" },
      { code: "MN", name: "Mongolia", flag: "ğŸ‡²ğŸ‡³" },
      { code: "ME", name: "Montenegro", flag: "ğŸ‡²ğŸ‡ª" },
      { code: "MA", name: "Morocco", flag: "ğŸ‡²ğŸ‡¦" },
      { code: "MZ", name: "Mozambique", flag: "ğŸ‡²ğŸ‡¿" },
      { code: "MM", name: "Myanmar", flag: "ğŸ‡²ğŸ‡²" },
      { code: "NA", name: "Namibia", flag: "ğŸ‡³ğŸ‡¦" },
      { code: "NR", name: "Nauru", flag: "ğŸ‡³ğŸ‡·" },
      { code: "NP", name: "Nepal", flag: "ğŸ‡³ğŸ‡µ" },
      { code: "NL", name: "Netherlands", flag: "ğŸ‡³ğŸ‡±" },
      { code: "NZ", name: "New Zealand", flag: "ğŸ‡³ğŸ‡¿" },
      { code: "NI", name: "Nicaragua", flag: "ğŸ‡³ğŸ‡®" },
      { code: "NE", name: "Niger", flag: "ğŸ‡³ğŸ‡ª" },
      { code: "NG", name: "Nigeria", flag: "ğŸ‡³ğŸ‡¬" },
      { code: "KP", name: "North Korea", flag: "ğŸ‡°ğŸ‡µ" },
      { code: "MK", name: "North Macedonia", flag: "ğŸ‡²ğŸ‡°" },
      { code: "NO", name: "Norway", flag: "ğŸ‡³ğŸ‡´" },
      { code: "OM", name: "Oman", flag: "ğŸ‡´ğŸ‡²" },
      { code: "PK", name: "Pakistan", flag: "ğŸ‡µğŸ‡°" },
      { code: "PW", name: "Palau", flag: "ğŸ‡µğŸ‡¼" },
      { code: "PA", name: "Panama", flag: "ğŸ‡µğŸ‡¦" },
      { code: "PG", name: "Papua New Guinea", flag: "ğŸ‡µğŸ‡¬" },
      { code: "PY", name: "Paraguay", flag: "ğŸ‡µğŸ‡¾" },
      { code: "PE", name: "Peru", flag: "ğŸ‡µğŸ‡ª" },
      { code: "PH", name: "Philippines", flag: "ğŸ‡µğŸ‡­" },
      { code: "PL", name: "Poland", flag: "ğŸ‡µğŸ‡±" },
      { code: "PT", name: "Portugal", flag: "ğŸ‡µğŸ‡¹" },
      { code: "QA", name: "Qatar", flag: "ğŸ‡¶ğŸ‡¦" },
      { code: "RO", name: "Romania", flag: "ğŸ‡·ğŸ‡´" },
      { code: "RU", name: "Russia", flag: "ğŸ‡·ğŸ‡º" },
      { code: "RW", name: "Rwanda", flag: "ğŸ‡·ğŸ‡¼" },
      { code: "KN", name: "Saint Kitts and Nevis", flag: "ğŸ‡°ğŸ‡³" },
      { code: "LC", name: "Saint Lucia", flag: "ğŸ‡±ğŸ‡¨" },
      { code: "VC", name: "Saint Vincent and the Grenadines", flag: "ğŸ‡»ğŸ‡¨" },
      { code: "WS", name: "Samoa", flag: "ğŸ‡¼ğŸ‡¸" },
      { code: "SM", name: "San Marino", flag: "ğŸ‡¸ğŸ‡²" },
      { code: "ST", name: "SÃ£o TomÃ© and PrÃ­ncipe", flag: "ğŸ‡¸ğŸ‡¹" },
      { code: "SA", name: "Saudi Arabia", flag: "ğŸ‡¸ğŸ‡¦" },
      { code: "SN", name: "Senegal", flag: "ğŸ‡¸ğŸ‡³" },
      { code: "RS", name: "Serbia", flag: "ğŸ‡·ğŸ‡¸" },
      { code: "SC", name: "Seychelles", flag: "ğŸ‡¸ğŸ‡¨" },
      { code: "SL", name: "Sierra Leone", flag: "ğŸ‡¸ğŸ‡±" },
      { code: "SG", name: "Singapore", flag: "ğŸ‡¸ğŸ‡¬" },
      { code: "SK", name: "Slovakia", flag: "ğŸ‡¸ğŸ‡°" },
      { code: "SI", name: "Slovenia", flag: "ğŸ‡¸ğŸ‡®" },
      { code: "SB", name: "Solomon Islands", flag: "ğŸ‡¸ğŸ‡§" },
      { code: "SO", name: "Somalia", flag: "ğŸ‡¸ğŸ‡´" },
      { code: "ZA", name: "South Africa", flag: "ğŸ‡¿ğŸ‡¦" },
      { code: "KR", name: "South Korea", flag: "ğŸ‡°ğŸ‡·" },
      { code: "SS", name: "South Sudan", flag: "ğŸ‡¸ğŸ‡¸" },
      { code: "ES", name: "Spain", flag: "ğŸ‡ªğŸ‡¸" },
      { code: "LK", name: "Sri Lanka", flag: "ğŸ‡±ğŸ‡°" },
      { code: "SD", name: "Sudan", flag: "ğŸ‡¸ğŸ‡©" },
      { code: "SR", name: "Suriname", flag: "ğŸ‡¸ğŸ‡·" },
      { code: "SE", name: "Sweden", flag: "ğŸ‡¸ğŸ‡ª" },
      { code: "CH", name: "Switzerland", flag: "ğŸ‡¨ğŸ‡­" },
      { code: "SY", name: "Syria", flag: "ğŸ‡¸ğŸ‡¾" },
      { code: "TW", name: "Taiwan", flag: "ğŸ‡¹ğŸ‡¼" },
      { code: "TJ", name: "Tajikistan", flag: "ğŸ‡¹ğŸ‡¯" },
      { code: "TZ", name: "Tanzania", flag: "ğŸ‡¹ğŸ‡¿" },
      { code: "TH", name: "Thailand", flag: "ğŸ‡¹ğŸ‡­" },
      { code: "TL", name: "Timor-Leste", flag: "ğŸ‡¹ğŸ‡±" },
      { code: "TG", name: "Togo", flag: "ğŸ‡¹ğŸ‡¬" },
      { code: "TO", name: "Tonga", flag: "ğŸ‡¹ğŸ‡´" },
      { code: "TT", name: "Trinidad and Tobago", flag: "ğŸ‡¹ğŸ‡¹" },
      { code: "TN", name: "Tunisia", flag: "ğŸ‡¹ğŸ‡³" },
      { code: "TR", name: "Turkey", flag: "ğŸ‡¹ğŸ‡·" },
      { code: "TM", name: "Turkmenistan", flag: "ğŸ‡¹ğŸ‡²" },
      { code: "TV", name: "Tuvalu", flag: "ğŸ‡¹ğŸ‡»" },
      { code: "UG", name: "Uganda", flag: "ğŸ‡ºğŸ‡¬" },
      { code: "UA", name: "Ukraine", flag: "ğŸ‡ºğŸ‡¦" },
      { code: "AE", name: "United Arab Emirates", flag: "ğŸ‡¦ğŸ‡ª" },
      { code: "GB", name: "United Kingdom", flag: "ğŸ‡¬ğŸ‡§" },
      { code: "US", name: "United States", flag: "ğŸ‡ºğŸ‡¸" },
      { code: "UY", name: "Uruguay", flag: "ğŸ‡ºğŸ‡¾" },
      { code: "UZ", name: "Uzbekistan", flag: "ğŸ‡ºğŸ‡¿" },
      { code: "VU", name: "Vanuatu", flag: "ğŸ‡»ğŸ‡º" },
      { code: "VA", name: "Vatican City", flag: "ğŸ‡»ğŸ‡¦" },
      { code: "VE", name: "Venezuela", flag: "ğŸ‡»ğŸ‡ª" },
      { code: "VN", name: "Vietnam", flag: "ğŸ‡»ğŸ‡³" },
      { code: "YE", name: "Yemen", flag: "ğŸ‡¾ğŸ‡ª" },
      { code: "ZM", name: "Zambia", flag: "ğŸ‡¿ğŸ‡²" },
      { code: "ZW", name: "Zimbabwe", flag: "ğŸ‡¿ğŸ‡¼" }
    ];

    /*
      ACTIVE INVENTORY (FULLY LOADED COUNTRIES)
      Only Cuba initially has full cities + tours.
      Other countries display "Coming Soon".
    */
    const INVENTORY = {
      "CU": {
        cities: {
          "Havana": [
            {
              id: "cu-hav-1",
              title: "Classic Havana City Tour",
              desc: "Explore Old Havana, classic cars, colonial streets, and vibrant Cuban culture with a professional guide.",
              price: 80,
              type: "tour"
            },
            {
              id: "cu-hav-2",
              title: "Vintage Car Ride Experience",
              desc: "Cruise Havana in a colorful 1950s convertible with music, drinks, and iconic stops.",
              price: 60,
              type: "transport"
            },
            {
              id: "cu-hav-3",
              title: "Cuban Cooking Class",
              desc: "Learn authentic Cuban recipes with local chefs and enjoy your creations.",
              price: 70,
              type: "food"
            },
            {
              id: "cu-hav-4",
              title: "Havana Tattoo Session",
              desc: "Book a professional tattoo session with top Cuban artists.",
              price: 120,
              type: "tattoo"
            },
            {
              id: "cu-hav-5",
              title: "Luxury Spa & Massage",
              desc: "Relax with premium spa treatments and tropical massages.",
              price: 90,
              type: "spa"
            }
          ],
          "Varadero": [
            {
              id: "cu-var-1",
              title: "Varadero Beach Resort Day",
              desc: "All-inclusive day pass to Varaderoâ€™s top beach resorts.",
              price: 140,
              type: "tour"
            },
            {
              id: "cu-var-2",
              title: "Catamaran Snorkeling Tour",
              desc: "Snorkel crystal-clear waters and explore coral reefs.",
              price: 110,
              type: "snorkel"
            },
            {
              id: "cu-var-3",
              title: "Sunset Cruise Experience",
              desc: "Romantic sunset cruise with drinks and music.",
              price: 95,
              type: "tour"
            }
          ],
          "Trinidad": [
            {
              id: "cu-tri-1",
              title: "Colonial Trinidad Walking Tour",
              desc: "Walk through cobblestone streets and colonial architecture.",
              price: 65,
              type: "tour"
            },
            {
              id: "cu-tri-2",
              title: "Topes de Collantes Nature Hike",
              desc: "Hike waterfalls and tropical forests with expert guides.",
              price: 85,
              type: "tour"
            }
          ],
          "Santiago de Cuba": [
            {
              id: "cu-san-1",
              title: "Santiago Music & Culture Tour",
              desc: "Discover Afro-Cuban rhythms and historic neighborhoods.",
              price: 70,
              type: "tour"
            },
            {
              id: "cu-san-2",
              title: "Carnival Dance Experience",
              desc: "Learn Cuban carnival dances with professionals.",
              price: 60,
              type: "tour"
            }
          ],
          "Cienfuegos": [
            {
              id: "cu-cie-1",
              title: "Cienfuegos Bay Boat Tour",
              desc: "Boat ride across the Pearl of the South bay.",
              price: 55,
              type: "tour"
            }
          ]
        }
      }
    };

    /*
      WELCOME GIFTS
    */
    const WELCOME_GIFTS = [
      {
        id: "gift-drink",
        title: "Free Tropical Drink",
        icon: "ğŸ¹",
        price: 0,
        type: "gift"
      },
      {
        id: "gift-taxi",
        title: "Free Taxi Ride",
        icon: "ğŸš•",
        price: 0,
        type: "gift"
      },
      {
        id: "gift-spa",
        title: "Free Mini Massage",
        icon: "ğŸ’†â€â™‚ï¸",
        price: 0,
        type: "gift"
      },
      {
        id: "gift-photo",
        title: "Professional Photo",
        icon: "ğŸ“¸",
        price: 0,
        type: "gift"
      },
      {
        id: "gift-snack",
        title: "Local Snack Box",
        icon: "ğŸ©",
        price: 0,
        type: "gift"
      }
    ];

    /*
      TRANSLATIONS
    */
    const TRANSLATIONS = {
      en: {
        heroTitle: "Your adventure starts here ğŸŒ´âœˆï¸",
        heroSubtitle: "Book tours, travel, tattoos, salons and experiences worldwide with Amigo â€” your friendly travel buddy.",
        navHome: "Home",
        navDestinations: "Destinations",
        navServices: "Services",
        sectionCountries: "Choose a country",
        sectionCities: "Choose a city",
        sectionTours: "Available experiences",
        comingSoon: "Coming soon",
        breadcrumbsHome: "Home",
        cartTitle: "Your Cart",
        cartTotal: "Total",
        checkout: "Checkout",
        checkoutTitle: "Checkout",
        checkoutName: "Full Name",
        checkoutEmail: "Email",
        checkoutPhone: "Phone",
        checkoutCard: "Card Number",
        checkoutExp: "Exp",
        checkoutCvc: "CVC",
        checkoutPay: "Pay Now",
        checkoutCancel: "Cancel",
        checkoutTerms: "By paying you agree to our",
        terms: "Terms",
        privacy: "Privacy Policy",
        successTitle: "ğŸ‰ Booking Confirmed!",
        successMessage: "Your adventure is locked in. Weâ€™ve sent confirmation to your email.",
        backHome: "Back to Home",
        giftTitle: "ğŸ Welcome Gift!",
        giftSubtitle: "Choose one free gift for your first adventure.",
        giftSkip: "Skip for now",
        bookNow: "Book Now",
        addToCart: "Add to Cart",
        selectDates: "Select Dates",
        startDate: "Start Date",
        endDate: "End Date",
        time: "Time",
        people: "People",
        confirm: "Confirm",
        amigoGreeting: "Hey! Iâ€™m Amigo ğŸŒ´ How can I help you today?",
        amigoMenuDestinations: "Explore destinations",
        amigoMenuCart: "View cart",
        amigoMenuGift: "My free gift",
        amigoMenuLanguage: "Change language",
        amigoMenuHelp: "Need help?",
        amigoTravel: "Letâ€™s travel! âœˆï¸",
        amigoFood: "Time to eat! ğŸ”",
        amigoSnorkel: "Letâ€™s dive! ğŸ¤¿",
        amigoSpa: "Relax time ğŸ’†â€â™‚ï¸",
        amigoTaxi: "Hop in! ğŸš•",
        amigoTattoo: "Ink time ğŸ¨",
        legalTermsTitle: "Terms & Conditions",
        legalPrivacyTitle: "Privacy Policy",
        legalClose: "Close"
      },

      es: {
        heroTitle: "Tu aventura comienza aquÃ­ ğŸŒ´âœˆï¸",
        heroSubtitle: "Reserva tours, viajes, tattoos, salones y experiencias en todo el mundo con Amigo â€” tu compaÃ±ero de viaje.",
        navHome: "Inicio",
        navDestinations: "Destinos",
        navServices: "Servicios",
        sectionCountries: "Elige un paÃ­s",
        sectionCities: "Elige una ciudad",
        sectionTours: "Experiencias disponibles",
        comingSoon: "PrÃ³ximamente",
        breadcrumbsHome: "Inicio",
        cartTitle: "Tu Carrito",
        cartTotal: "Total",
        checkout: "Pagar",
        checkoutTitle: "Checkout",
        checkoutName: "Nombre Completo",
        checkoutEmail: "Correo",
        checkoutPhone: "TelÃ©fono",
        checkoutCard: "NÃºmero de Tarjeta",
        checkoutExp: "Exp",
        checkoutCvc: "CVC",
        checkoutPay: "Pagar Ahora",
        checkoutCancel: "Cancelar",
        checkoutTerms: "Al pagar aceptas nuestros",
        terms: "TÃ©rminos",
        privacy: "PolÃ­tica de Privacidad",
        successTitle: "ğŸ‰ Reserva Confirmada!",
        successMessage: "Tu aventura estÃ¡ lista. Te enviamos confirmaciÃ³n por email.",
        backHome: "Volver al Inicio",
        giftTitle: "ğŸ Regalo de Bienvenida!",
        giftSubtitle: "Elige un regalo gratis para tu primera aventura.",
        giftSkip: "Saltar por ahora",
        bookNow: "Reservar",
        addToCart: "Agregar al Carrito",
        selectDates: "Selecciona Fechas",
        startDate: "Fecha Inicio",
        endDate: "Fecha Fin",
        time: "Hora",
        people: "Personas",
        confirm: "Confirmar",
        amigoGreeting: "Â¡Hey! Soy Amigo ğŸŒ´ Â¿En quÃ© te ayudo hoy?",
        amigoMenuDestinations: "Explorar destinos",
        amigoMenuCart: "Ver carrito",
        amigoMenuGift: "Mi regalo gratis",
        amigoMenuLanguage: "Cambiar idioma",
        amigoMenuHelp: "Â¿Necesitas ayuda?",
        amigoTravel: "Â¡Vamos a viajar! âœˆï¸",
        amigoFood: "Â¡Hora de comer! ğŸ”",
        amigoSnorkel: "Â¡Vamos a bucear! ğŸ¤¿",
        amigoSpa: "Tiempo de relax ğŸ’†â€â™‚ï¸",
        amigoTaxi: "Â¡SÃºbete! ğŸš•",
        amigoTattoo: "Hora de tinta ğŸ¨",
        legalTermsTitle: "TÃ©rminos y Condiciones",
        legalPrivacyTitle: "PolÃ­tica de Privacidad",
        legalClose: "Cerrar"
      },

      fr: {
        heroTitle: "Votre aventure commence ici ğŸŒ´âœˆï¸",
        heroSubtitle: "RÃ©servez des tours, voyages, tatouages, salons et expÃ©riences partout dans le monde avec Amigo.",
        navHome: "Accueil",
        navDestinations: "Destinations",
        navServices: "Services",
        sectionCountries: "Choisissez un pays",
        sectionCities: "Choisissez une ville",
        sectionTours: "ExpÃ©riences disponibles",
        comingSoon: "BientÃ´t disponible",
        breadcrumbsHome: "Accueil",
        cartTitle: "Votre Panier",
        cartTotal: "Total",
        checkout: "Paiement",
        checkoutTitle: "Paiement",
        checkoutName: "Nom Complet",
        checkoutEmail: "Email",
        checkoutPhone: "TÃ©lÃ©phone",
        checkoutCard: "NumÃ©ro de Carte",
        checkoutExp: "Exp",
        checkoutCvc: "CVC",
        checkoutPay: "Payer",
        checkoutCancel: "Annuler",
        checkoutTerms: "En payant vous acceptez nos",
        terms: "Conditions",
        privacy: "Politique de ConfidentialitÃ©",
        successTitle: "ğŸ‰ RÃ©servation ConfirmÃ©e!",
        successMessage: "Votre aventure est confirmÃ©e. Un email vous a Ã©tÃ© envoyÃ©.",
        backHome: "Retour Ã  l'accueil",
        giftTitle: "ğŸ Cadeau de Bienvenue!",
        giftSubtitle: "Choisissez un cadeau gratuit pour votre premiÃ¨re aventure.",
        giftSkip: "Passer pour lâ€™instant",
        bookNow: "RÃ©server",
        addToCart: "Ajouter au panier",
        selectDates: "Choisir des dates",
        startDate: "Date dÃ©but",
        endDate: "Date fin",
        time: "Heure",
        people: "Personnes",
        confirm: "Confirmer",
        amigoGreeting: "Salut! Je suis Amigo ğŸŒ´ Comment puis-je tâ€™aider?",
        amigoMenuDestinations: "Explorer destinations",
        amigoMenuCart: "Voir panier",
        amigoMenuGift: "Mon cadeau gratuit",
        amigoMenuLanguage: "Changer langue",
        amigoMenuHelp: "Besoin dâ€™aide?",
        amigoTravel: "On voyage! âœˆï¸",
        amigoFood: "On mange! ğŸ”",
        amigoSnorkel: "On plonge! ğŸ¤¿",
        amigoSpa: "Relax ğŸ’†â€â™‚ï¸",
        amigoTaxi: "En route! ğŸš•",
        amigoTattoo: "Tatouage ğŸ¨",
        legalTermsTitle: "Conditions GÃ©nÃ©rales",
        legalPrivacyTitle: "Politique de ConfidentialitÃ©",
        legalClose: "Fermer"
      },

      pt: {
        heroTitle: "Sua aventura comeÃ§a aqui ğŸŒ´âœˆï¸",
        heroSubtitle: "Reserve tours, viagens, tattoos, salÃµes e experiÃªncias no mundo inteiro com Amigo.",
        navHome: "InÃ­cio",
        navDestinations: "Destinos",
        navServices: "ServiÃ§os",
        sectionCountries: "Escolha um paÃ­s",
        sectionCities: "Escolha uma cidade",
        sectionTours: "ExperiÃªncias disponÃ­veis",
        comingSoon: "Em breve",
        breadcrumbsHome: "InÃ­cio",
        cartTitle: "Seu Carrinho",
        cartTotal: "Total",
        checkout: "Checkout",
        checkoutTitle: "Checkout",
        checkoutName: "Nome Completo",
        checkoutEmail: "Email",
        checkoutPhone: "Telefone",
        checkoutCard: "NÃºmero do CartÃ£o",
        checkoutExp: "Exp",
        checkoutCvc: "CVC",
        checkoutPay: "Pagar Agora",
        checkoutCancel: "Cancelar",
        checkoutTerms: "Ao pagar vocÃª concorda com nossos",
        terms: "Termos",
        privacy: "PolÃ­tica de Privacidade",
        successTitle: "ğŸ‰ Reserva Confirmada!",
        successMessage: "Sua aventura estÃ¡ garantida. Enviamos confirmaÃ§Ã£o por email.",
        backHome: "Voltar ao InÃ­cio",
        giftTitle: "ğŸ Presente de Boas-Vindas!",
        giftSubtitle: "Escolha um presente grÃ¡tis para sua primeira aventura.",
        giftSkip: "Pular por enquanto",
        bookNow: "Reservar",
        addToCart: "Adicionar ao Carrinho",
        selectDates: "Selecionar Datas",
        startDate: "Data Inicial",
        endDate: "Data Final",
        time: "Hora",
        people: "Pessoas",
        confirm: "Confirmar",
        amigoGreeting: "Oi! Sou Amigo ğŸŒ´ Como posso ajudar?",
        amigoMenuDestinations: "Explorar destinos",
        amigoMenuCart: "Ver carrinho",
        amigoMenuGift: "Meu presente grÃ¡tis",
        amigoMenuLanguage: "Mudar idioma",
        amigoMenuHelp: "Precisa de ajuda?",
        amigoTravel: "Vamos viajar! âœˆï¸",
        amigoFood: "Hora de comer! ğŸ”",
        amigoSnorkel: "Vamos mergulhar! ğŸ¤¿",
        amigoSpa: "Relax ğŸ’†â€â™‚ï¸",
        amigoTaxi: "Vamos lÃ¡! ğŸš•",
        amigoTattoo: "Hora da tattoo ğŸ¨",
        legalTermsTitle: "Termos e CondiÃ§Ãµes",
        legalPrivacyTitle: "PolÃ­tica de Privacidade",
        legalClose: "Fechar"
      },

      it: {
        heroTitle: "La tua avventura inizia qui ğŸŒ´âœˆï¸",
        heroSubtitle: "Prenota tour, viaggi, tattoo, saloni ed esperienze in tutto il mondo con Amigo.",
        navHome: "Home",
        navDestinations: "Destinazioni",
        navServices: "Servizi",
        sectionCountries: "Scegli un paese",
        sectionCities: "Scegli una cittÃ ",
        sectionTours: "Esperienze disponibili",
        comingSoon: "Prossimamente",
        breadcrumbsHome: "Home",
        cartTitle: "Il tuo carrello",
        cartTotal: "Totale",
        checkout: "Checkout",
        checkoutTitle: "Checkout",
        checkoutName: "Nome Completo",
        checkoutEmail: "Email",
        checkoutPhone: "Telefono",
        checkoutCard: "Numero Carta",
        checkoutExp: "Exp",
        checkoutCvc: "CVC",
        checkoutPay: "Paga Ora",
        checkoutCancel: "Annulla",
        checkoutTerms: "Pagando accetti i nostri",
        terms: "Termini",
        privacy: "Privacy",
        successTitle: "ğŸ‰ Prenotazione Confermata!",
        successMessage: "La tua avventura Ã¨ confermata. Ti abbiamo inviato un'email.",
        backHome: "Torna alla Home",
        giftTitle: "ğŸ Regalo di Benvenuto!",
        giftSubtitle: "Scegli un regalo gratuito per la tua prima avventura.",
        giftSkip: "Salta per ora",
        bookNow: "Prenota",
        addToCart: "Aggiungi al Carrello",
        selectDates: "Seleziona Date",
        startDate: "Data Inizio",
        endDate: "Data Fine",
        time: "Ora",
        people: "Persone",
        confirm: "Conferma",
        amigoGreeting: "Ciao! Sono Amigo ğŸŒ´ Come posso aiutarti?",
        amigoMenuDestinations: "Esplora destinazioni",
        amigoMenuCart: "Vedi carrello",
        amigoMenuGift: "Il mio regalo gratis",
        amigoMenuLanguage: "Cambia lingua",
        amigoMenuHelp: "Serve aiuto?",
        amigoTravel: "Andiamo! âœˆï¸",
        amigoFood: "Si mangia! ğŸ”",
        amigoSnorkel: "Immergiamoci! ğŸ¤¿",
        amigoSpa: "Relax ğŸ’†â€â™‚ï¸",
        amigoTaxi: "Andiamo! ğŸš•",
        amigoTattoo: "Tattoo time ğŸ¨",
        legalTermsTitle: "Termini e Condizioni",
        legalPrivacyTitle: "Privacy Policy",
        legalClose: "Chiudi"
      }
    };

    /********************************************************************
     ********************************************************************
     ****************************  STATE  *******************************
     ********************************************************************
     ********************************************************************/

    let currentLanguage = "en";
    let currentView = "home"; // home | countries | cities | tours
    let selectedCountry = null;
    let selectedCity = null;

    let cart = [];

    let amigoState = "idle"; // idle | travel | food | snorkel | spa | taxi | tattoo

    /********************************************************************
     ********************************************************************
     ****************************  UTILS  *******************************
     ********************************************************************
     ********************************************************************/

    function $(id) {
      return document.getElementById(id);
    }

    function formatPrice(num) {
      return "$" + Number(num).toFixed(2);
    }

    function getTranslation(key) {
      return TRANSLATIONS[currentLanguage][key] || key;
    }

    function saveCart() {
      localStorage.setItem("amigo_cart", JSON.stringify(cart));
    }

    function loadCart() {
      const stored = localStorage.getItem("amigo_cart");
      if (stored) {
        try {
          cart = JSON.parse(stored);
        } catch {
          cart = [];
        }
      }
    }

    function updateCartCount() {
      const count = cart.length;
      const badge = $("cart-count");
      if (count > 0) {
        badge.textContent = count;
        badge.style.display = "inline-block";
      } else {
        badge.style.display = "none";
      }
    }

    function updateYear() {
      $("year").textContent = new Date().getFullYear();
    }

    function clearContent() {
      $("content").innerHTML = "";
    }

    function showBreadcrumbs(items) {
      const bc = $("breadcrumbs");
      bc.innerHTML = "";
      bc.style.display = "flex";

      items.forEach((item, index) => {
        const span = document.createElement("span");
        span.textContent = item.label;
        if (item.onClick) {
          span.className = "breadcrumb-link";
          span.onclick = item.onClick;
        }
        bc.appendChild(span);

        if (index < items.length - 1) {
          const sep = document.createElement("span");
          sep.textContent = "â€º";
          sep.className = "breadcrumb-sep";
          bc.appendChild(sep);
        }
      });
    }

    function hideBreadcrumbs() {
      $("breadcrumbs").style.display = "none";
    }

    /********************************************************************
     ********************************************************************
     ****************************  AMIGO  *******************************
     ********************************************************************
     ********************************************************************/

    function resetAmigoAccessories() {
      $("amigo-drink").style.display = "none";
      $("amigo-parachute").style.display = "none";
      $("amigo-snorkel").style.display = "none";
      $("amigo-car").style.display = "none";
      $("amigo-towel").style.display = "none";
      $("amigo-tattoo").style.display = "none";
    }

    function setAmigoState(state, customText = null) {
      amigoState = state;
      resetAmigoAccessories();

      let text = "";

      switch (state) {
        case "travel":
          $("amigo-parachute").style.display = "block";
          text = getTranslation("amigoTravel");
          break;
        case "food":
          $("amigo-drink").style.display = "block";
          text = getTranslation("amigoFood");
          break;
        case "snorkel":
          $("amigo-snorkel").style.display = "block";
          text = getTranslation("amigoSnorkel");
          break;
        case "spa":
          $("amigo-towel").style.display = "block";
          text = getTranslation("amigoSpa");
          break;
        case "taxi":
          $("amigo-car").style.display = "block";
          text = getTranslation("amigoTaxi");
          break;
        case "tattoo":
          $("amigo-tattoo").style.display = "block";
          text = getTranslation("amigoTattoo");
          break;
        default:
          text = getTranslation("amigoGreeting");
      }

      showAmigoBubble(customText || text);
    }

    function showAmigoBubble(text) {
      const bubble = $("amigo-bubble");
      bubble.innerHTML = "";

      const title = document.createElement("h4");
      title.textContent = "Amigo";
      bubble.appendChild(title);

      const p = document.createElement("p");
      p.textContent = text;
      bubble.appendChild(p);

      bubble.style.display = "block";
    }

    function hideAmigoBubble() {
      $("amigo-bubble").style.display = "none";
    }

    function toggleAmigoMenu() {
      const bubble = $("amigo-bubble");

      if (bubble.style.display === "block") {
        hideAmigoBubble();
        return;
      }

      bubble.innerHTML = "";

      const title = document.createElement("h4");
      title.textContent = "Amigo";
      bubble.appendChild(title);

      const btnDest = document.createElement("button");
      btnDest.className = "amigo-menu-btn";
      btnDest.textContent = getTranslation("amigoMenuDestinations");
      btnDest.onclick = () => {
        hideAmigoBubble();
        renderCountries();
        setAmigoState("travel");
      };
      bubble.appendChild(btnDest);

      const btnCart = document.createElement("button");
      btnCart.className = "amigo-menu-btn";
      btnCart.textContent = getTranslation("amigoMenuCart");
      btnCart.onclick = () => {
        hideAmigoBubble();
        openCart();
      };
      bubble.appendChild(btnCart);

      const btnGift = document.createElement("button");
      btnGift.className = "amigo-menu-btn";
      btnGift.textContent = getTranslation("amigoMenuGift");
      btnGift.onclick = () => {
        hideAmigoBubble();
        showGiftModal(true);
      };
      bubble.appendChild(btnGift);

      const btnLang = document.createElement("button");
      btnLang.className = "amigo-menu-btn";
      btnLang.textContent = getTranslation("amigoMenuLanguage");
      btnLang.onclick = () => {
        hideAmigoBubble();
        showLanguageHint();
      };
      bubble.appendChild(btnLang);

      const btnHelp = document.createElement("button");
      btnHelp.className = "amigo-menu-btn";
      btnHelp.textContent = getTranslation("amigoMenuHelp");
      btnHelp.onclick = () => {
        hideAmigoBubble();
        setAmigoState("idle", getTranslation("amigoGreeting"));
      };
      bubble.appendChild(btnHelp);

      bubble.style.display = "block";
    }

    function showLanguageHint() {
      showAmigoBubble("â¬†ï¸ " + getTranslation("amigoMenuLanguage"));
    }

    /********************************************************************
     ********************************************************************
     ****************************  RENDER  ******************************
     ********************************************************************
     ********************************************************************/

    function renderHome() {
      currentView = "home";
      selectedCountry = null;
      selectedCity = null;
      hideBreadcrumbs();
      clearContent();

      const content = $("content");

      const sectionTitle = document.createElement("h2");
      sectionTitle.className = "section-title";
      sectionTitle.textContent = getTranslation("sectionCountries");
      content.appendChild(sectionTitle);

      const grid = document.createElement("div");
      grid.className = "grid countries";
      content.appendChild(grid);

      ALL_COUNTRIES.forEach(country => {
        const card = document.createElement("div");
        card.className = "card country-card";

        const flag = document.createElement("div");
        flag.className = "country-flag";
        flag.textContent = country.flag;
        card.appendChild(flag);

        const name = document.createElement("div");
        name.className = "country-name";
        name.textContent = country.name;
        card.appendChild(name);

        const isActive = INVENTORY[country.code];

        if (!isActive) {
          const cs = document.createElement("div");
          cs.className = "coming-soon";
          cs.textContent = getTranslation("comingSoon");
          card.appendChild(cs);
        }

        card.onclick = () => {
          if (INVENTORY[country.code]) {
            renderCities(country.code);
            setAmigoState("travel");
          } else {
            setAmigoState("idle", `${country.name}: ${getTranslation("comingSoon")}`);
          }
        };

        grid.appendChild(card);
      });
    }

    function renderCountries() {
      renderHome();
    }

    function renderCities(countryCode) {
      currentView = "cities";
      selectedCountry = countryCode;
      selectedCity = null;
      clearContent();

      const country = ALL_COUNTRIES.find(c => c.code === countryCode);
      const inventory = INVENTORY[countryCode];

      showBreadcrumbs([
        { label: getTranslation("breadcrumbsHome"), onClick: renderHome },
        { label: country.name }
      ]);

      const content = $("content");

      const sectionTitle = document.createElement("h2");
      sectionTitle.className = "section-title";
      sectionTitle.textContent = getTranslation("sectionCities");
      content.appendChild(sectionTitle);

      const grid = document.createElement("div");
      grid.className = "grid cities";
      content.appendChild(grid);

      const cities = Object.keys(inventory.cities);

      cities.forEach(cityName => {
        const card = document.createElement("div");
        card.className = "card city-card";

        const h3 = document.createElement("h3");
        h3.textContent = cityName;
        card.appendChild(h3);

        const p = document.createElement("p");
        p.style.fontSize = "0.85rem";
        p.style.color = "#666";
        p.textContent = `${inventory.cities[cityName].length} experiences`;
        card.appendChild(p);

        card.onclick = () => {
          renderTours(countryCode, cityName);
          setAmigoState("travel");
        };

        grid.appendChild(card);
      });
    }

    function renderTours(countryCode, cityName) {
      currentView = "tours";
      selectedCountry = countryCode;
      selectedCity = cityName;
      clearContent();

      const country = ALL_COUNTRIES.find(c => c.code === countryCode);
      const tours = INVENTORY[countryCode].cities[cityName];

      showBreadcrumbs([
        { label: getTranslation("breadcrumbsHome"), onClick: renderHome },
        { label: country.name, onClick: () => renderCities(countryCode) },
        { label: cityName }
      ]);

      const content = $("content");

      const sectionTitle = document.createElement("h2");
      sectionTitle.className = "section-title";
      sectionTitle.textContent = getTranslation("sectionTours");
      content.appendChild(sectionTitle);

      const grid = document.createElement("div");
      grid.className = "grid tours";
      content.appendChild(grid);

      tours.forEach(tour => {
        const card = document.createElement("div");
        card.className = "card tour-card";

        const title = document.createElement("div");
        title.className = "tour-title";
        title.textContent = tour.title;
        card.appendChild(title);

        const desc = document.createElement("div");
        desc.className = "tour-desc";
        desc.textContent = tour.desc;
        card.appendChild(desc);

        const price = document.createElement("div");
        price.className = "tour-price";
        price.textContent = formatPrice(tour.price);
        card.appendChild(price);

        const actions = document.createElement("div");
        actions.className = "tour-actions";

        const calendarBox = document.createElement("div");
        calendarBox.className = "calendar-box";

        const labelStart = document.createElement("label");
        labelStart.textContent = getTranslation("startDate");
        calendarBox.appendChild(labelStart);

        const inputStart = document.createElement("input");
        inputStart.type = "date";
        calendarBox.appendChild(inputStart);

        const labelEnd = document.createElement("label");
        labelEnd.textContent = getTranslation("endDate");
        calendarBox.appendChild(labelEnd);

        const inputEnd = document.createElement("input");
        inputEnd.type = "date";
        calendarBox.appendChild(inputEnd);

        const labelTime = document.createElement("label");
        labelTime.textContent = getTranslation("time");
        calendarBox.appendChild(labelTime);

        const inputTime = document.createElement("input");
        inputTime.type = "time";
        calendarBox.appendChild(inputTime);

        const labelPeople = document.createElement("label");
        labelPeople.textContent = getTranslation("people");
        calendarBox.appendChild(labelPeople);

        const inputPeople = document.createElement("input");
        inputPeople.type = "number";
        inputPeople.min = 1;
        inputPeople.value = 1;
        calendarBox.appendChild(inputPeople);

        actions.appendChild(calendarBox);

        const btnAdd = document.createElement("button");
        btnAdd.className = "btn-primary";
        btnAdd.textContent = getTranslation("addToCart");
        btnAdd.onclick = () => {
          const booking = {
            ...tour,
            country: country.name,
            city: cityName,
            startDate: inputStart.value,
            endDate: inputEnd.value,
            time: inputTime.value,
            people: inputPeople.value
          };

          addToCart(booking);

          switch (tour.type) {
            case "food":
              setAmigoState("food");
              break;
            case "snorkel":
              setAmigoState("snorkel");
              break;
            case "spa":
              setAmigoState("spa");
              break;
            case "transport":
              setAmigoState("taxi");
              break;
            case "tattoo":
              setAmigoState("tattoo");
              break;
            default:
              setAmigoState("travel");
          }
        };
        actions.appendChild(btnAdd);

        card.appendChild(actions);

        grid.appendChild(card);
      });
    }

    /********************************************************************
     ********************************************************************
     ****************************  CART  ********************************
     ********************************************************************
     ********************************************************************/

    function addToCart(item) {
      cart.push(item);
      saveCart();
      updateCartCount();
      renderCartItems();
      openCart();
    }

    function removeFromCart(index) {
      cart.splice(index, 1);
      saveCart();
      updateCartCount();
      renderCartItems();
    }

    function calculateCartTotal() {
      return cart.reduce((sum, item) => sum + (item.price || 0), 0);
    }

    function renderCartItems() {
      const container = $("cart-items");
      container.innerHTML = "";

      if (cart.length === 0) {
        const empty = document.createElement("p");
        empty.style.fontSize = "0.85rem";
        empty.style.color = "#777";
        empty.textContent = "Your cart is empty.";
        container.appendChild(empty);
      }

      cart.forEach((item, index) => {
        const row = document.createElement("div");
        row.className = "cart-item";

        const left = document.createElement("div");
        left.style.flex = "1";

        const title = document.createElement("div");
        title.className = "cart-item-title";
        title.textContent = item.title;
        left.appendChild(title);

        const meta = document.createElement("div");
        meta.className = "cart-item-meta";
        meta.textContent = `${item.city || ""}, ${item.country || ""}`;
        left.appendChild(meta);

        if (item.startDate) {
          const meta2 = document.createElement("div");
          meta2.className = "cart-item-meta";
          meta2.textContent = `${item.startDate} â†’ ${item.endDate || item.startDate} ${item.time || ""} (${item.people || 1} pax)`;
          left.appendChild(meta2);
        }

        row.appendChild(left);

        const right = document.createElement("div");
        right.style.display = "flex";
        right.style.flexDirection = "column";
        right.style.alignItems = "flex-end";
        right.style.gap = "4px";

        const price = document.createElement("div");
        price.className = "cart-item-price";
        price.textContent = formatPrice(item.price || 0);
        right.appendChild(price);

        const removeBtn = document.createElement("button");
        removeBtn.className = "cart-remove-btn";
        removeBtn.textContent = "Remove";
        removeBtn.onclick = () => removeFromCart(index);
        right.appendChild(removeBtn);

        row.appendChild(right);

        container.appendChild(row);
      });

      $("cart-total-value").textContent = formatPrice(calculateCartTotal());
    }

    function openCart() {
      $("cart-overlay").style.display = "flex";
      renderCartItems();
    }

    function closeCart() {
      $("cart-overlay").style.display = "none";
    }

    /********************************************************************
     ********************************************************************
     ****************************  CHECKOUT  ****************************
     ********************************************************************
     ********************************************************************/

    function openCheckout() {
      if (cart.length === 0) return;
      $("checkout-overlay").style.display = "flex";
      renderCheckoutSummary();
    }

    function closeCheckout() {
      $("checkout-overlay").style.display = "none";
    }

    function renderCheckoutSummary() {
      const summary = $("checkout-summary");
      summary.innerHTML = "";

      cart.forEach(item => {
        const row = document.createElement("div");
        row.className = "checkout-summary-item";

        const left = document.createElement("span");
        left.textContent = item.title;
        row.appendChild(left);

        const right = document.createElement("span");
        right.textContent = formatPrice(item.price || 0);
        row.appendChild(right);

        summary.appendChild(row);
      });

      const totalRow = document.createElement("div");
      totalRow.className = "checkout-summary-total";

      const totalLabel = document.createElement("span");
      totalLabel.textContent = getTranslation("cartTotal");
      totalRow.appendChild(totalLabel);

      const totalValue = document.createElement("span");
      totalValue.textContent = formatPrice(calculateCartTotal());
      totalRow.appendChild(totalValue);

      summary.appendChild(totalRow);
    }

    function processPayment() {
      const name = $("checkout-name").value.trim();
      const email = $("checkout-email").value.trim();
      const phone = $("checkout-phone").value.trim();
      const card = $("checkout-card").value.trim();
      const exp = $("checkout-exp").value.trim();
      const cvc = $("checkout-cvc").value.trim();

      if (!name || !email || !phone || !card || !exp || !cvc) {
        alert("Please fill in all fields.");
        return;
      }

      closeCheckout();

      setTimeout(() => {
        cart = [];
        saveCart();
        updateCartCount();
        renderCartItems();
        showSuccessModal();
      }, 800);
    }

    function showSuccessModal() {
      $("success-overlay").style.display = "flex";
    }

    function closeSuccessModal() {
      $("success-overlay").style.display = "none";
      renderHome();
    }

    /********************************************************************
     ********************************************************************
     ****************************  LEGAL  *******************************
     ********************************************************************
     ********************************************************************/

    function openLegal(type) {
      const overlay = $("legal-overlay");
      const title = $("legal-title");
      const content = $("legal-content");

      if (type === "terms") {
        title.textContent = getTranslation("legalTermsTitle");
        content.innerHTML = `
          <p>
            These Terms and Conditions govern your use of Amigo and all bookings
            made through our platform. By using Amigo, you agree to comply with
            these terms in full.
          </p>
          <p>
            All services, tours, and experiences are provided by independent
            partners. Amigo acts as a booking platform and does not directly
            operate the services unless stated otherwise.
          </p>
          <p>
            Payments are processed securely. All bookings are subject to
            availability and confirmation. Refund policies vary by provider.
          </p>
          <p>
            Users agree not to misuse the platform, attempt fraud, or interfere
            with system operations.
          </p>
          <p>
            Amigo reserves the right to modify services, pricing, or terms at any
            time without prior notice.
          </p>
          <p>
            By continuing to use Amigo, you acknowledge and accept these Terms
            and Conditions in full.
          </p>
        `;
      } else {
        title.textContent = getTranslation("legalPrivacyTitle");
        content.innerHTML = `
          <p>
            Amigo respects your privacy and is committed to protecting your
            personal data. This Privacy Policy explains how we collect, use,
            and safeguard your information.
          </p>
          <p>
            We collect only the information necessary to process bookings,
            communicate with users, and improve our services.
          </p>
          <p>
            Personal data is never sold or shared with unauthorized third
            parties. Payment information is processed securely and never
            stored directly on our servers.
          </p>
          <p>
            Users may request data deletion or modification at any time by
            contacting support.
          </p>
          <p>
            By using Amigo, you consent to this Privacy Policy and the
            collection and use of your information as described.
          </p>
        `;
      }

      overlay.style.display = "flex";
    }

    function closeLegal() {
      $("legal-overlay").style.display = "none";
    }

    /********************************************************************
     ********************************************************************
     ****************************  GIFT  ********************************
     ********************************************************************
     ********************************************************************/

    function showGiftModal(force = false) {
      const alreadyClaimed = localStorage.getItem("amigo_gift_claimed");
      if (alreadyClaimed && !force) return;

      const overlay = $("gift-overlay");
      const grid = $("gift-grid");
      grid.innerHTML = "";

      WELCOME_GIFTS.forEach(gift => {
        const card = document.createElement("div");
        card.className = "gift-card";

        const icon = document.createElement("div");
        icon.className = "gift-img";
        icon.textContent = gift.icon;
        card.appendChild(icon);

        const title = document.createElement("div");
        title.className = "gift-title";
        title.textContent = gift.title;
        card.appendChild(title);

        card.onclick = () => {
          addToCart({
            ...gift,
            country: "Gift",
            city: "Welcome"
          });
          localStorage.setItem("amigo_gift_claimed", "true");
          overlay.style.display = "none";
          setAmigoState("food", "Enjoy your free gift ğŸ");
        };

        grid.appendChild(card);
      });

      overlay.style.display = "flex";
    }

    function closeGiftModal() {
      $("gift-overlay").style.display = "none";
    }

    /********************************************************************
     ********************************************************************
     ****************************  LANGUAGE  ****************************
     ********************************************************************
     ********************************************************************/

    function applyTranslations() {
      $("hero-title").textContent = getTranslation("heroTitle");
      $("hero-subtitle").textContent = getTranslation("heroSubtitle");

      $("nav-home-btn").textContent = getTranslation("navHome");
      $("nav-destinations-btn").textContent = getTranslation("navDestinations");
      $("nav-services-btn").textContent = getTranslation("navServices");

      $("cart-title").textContent = getTranslation("cartTitle");
      $("cart-total-label").textContent = getTranslation("cartTotal");
      $("checkout-btn").textContent = getTranslation("checkout");

      $("checkout-title").textContent = getTranslation("checkoutTitle");
      $("checkout-name-label").textContent = getTranslation("checkoutName");
      $("checkout-email-label").textContent = getTranslation("checkoutEmail");
      $("checkout-phone-label").textContent = getTranslation("checkoutPhone");
      $("checkout-card-label").textContent = getTranslation("checkoutCard");
      $("checkout-exp-label").textContent = getTranslation("checkoutExp");
      $("checkout-cvc-label").textContent = getTranslation("checkoutCvc");
      $("checkout-pay-btn").textContent = getTranslation("checkoutPay");
      $("checkout-cancel-btn").textContent = getTranslation("checkoutCancel");

      $("checkout-terms-text").innerHTML =
        `${getTranslation("checkoutTerms")} <span id="terms-link">${getTranslation("terms")}</span> and <span id="privacy-link">${getTranslation("privacy")}</span>.`;

      $("success-title").textContent = getTranslation("successTitle");
      $("success-message").textContent = getTranslation("successMessage");
      $("success-close-btn").textContent = getTranslation("backHome");

      $("gift-title").textContent = getTranslation("giftTitle");
      $("gift-subtitle").textContent = getTranslation("giftSubtitle");
      $("gift-close-btn").textContent = getTranslation("giftSkip");

      // Update legal links handlers after re-render
      $("terms-link").onclick = () => openLegal("terms");
      $("privacy-link").onclick = () => openLegal("privacy");

      // Update language buttons UI
      document.querySelectorAll(".lang-btn").forEach(btn => {
        if (btn.dataset.lang === currentLanguage) {
          btn.classList.add("active");
        } else {
          btn.classList.remove("active");
        }
      });

      // Re-render current view
      if (currentView === "home") renderHome();
      if (currentView === "cities" && selectedCountry) renderCities(selectedCountry);
      if (currentView === "tours" && selectedCountry && selectedCity) renderTours(selectedCountry, selectedCity);
    }

    function changeLanguage(lang) {
      currentLanguage = lang;
      localStorage.setItem("amigo_lang", lang);
      applyTranslations();
      setAmigoState("idle", getTranslation("amigoGreeting"));
    }

    /********************************************************************
     ********************************************************************
     ****************************  EVENTS  ******************************
     ********************************************************************
     ********************************************************************/

    function setupEvents() {
      // Navbar
      $("nav-home-btn").onclick = renderHome;
      $("nav-destinations-btn").onclick = renderHome;
      $("nav-services-btn").onclick = () => {
        setAmigoState("idle", "Services coming soon ğŸŒŸ");
      };

      // Cart
      $("cart-btn").onclick = openCart;
      $("cart-close-btn").onclick = closeCart;
      $("checkout-btn").onclick = openCheckout;

      // Checkout
      $("checkout-cancel-btn").onclick = closeCheckout;
      $("checkout-pay-btn").onclick = processPayment;

      // Success
      $("success-close-btn").onclick = closeSuccessModal;

      // Legal
      $("legal-close-btn").onclick = closeLegal;

      // Gift
      $("gift-close-btn").onclick = closeGiftModal;

      // Amigo
      $("amigo-avatar-btn").onclick = toggleAmigoMenu;

      // Language buttons
      document.querySelectorAll(".lang-btn").forEach(btn => {
        btn.onclick = () => changeLanguage(btn.dataset.lang);
      });

      // Close overlays when clicking outside
      $("cart-overlay").addEventListener("click", e => {
        if (e.target === $("cart-overlay")) closeCart();
      });

      $("checkout-overlay").addEventListener("click", e => {
        if (e.target === $("checkout-overlay")) closeCheckout();
      });

      $("success-overlay").addEventListener("click", e => {
        if (e.target === $("success-overlay")) closeSuccessModal();
      });

      $("legal-overlay").addEventListener("click", e => {
        if (e.target === $("legal-overlay")) closeLegal();
      });

      $("gift-overlay").addEventListener("click", e => {
        if (e.target === $("gift-overlay")) closeGiftModal();
      });
    }

    /********************************************************************
     ********************************************************************
     ****************************  INIT  ********************************
     ********************************************************************
     ********************************************************************/

    function init() {
      updateYear();
      loadCart();
      updateCartCount();
      renderCartItems();
      setupEvents();

      const savedLang = localStorage.getItem("amigo_lang");
      if (savedLang && TRANSLATIONS[savedLang]) {
        currentLanguage = savedLang;
      }

      applyTranslations();
      renderHome();

      setTimeout(() => {
        showGiftModal(false);
      }, 600);

      setTimeout(() => {
        setAmigoState("idle", getTranslation("amigoGreeting"));
      }, 800);
    }

    init();
  </script>

</body>
</html>
